{"ast":null,"code":"var _jsxFileName = \"D:\\\\TAILIEUHOANGTHEMANH\\\\Project\\\\messagingApp\\\\src\\\\context\\\\AuthContexts.js\";\nimport React from 'react';\nimport { useState, useEffect, useContext } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { useParams } from 'react-router-dom/cjs/react-router-dom.min';\nimport { auth } from '../firebase'; //=====================Write Code Here===========================\n\nconst AuthContext = React.createContext();\nexport const useAuth = () => useState(AuthContext); //export default useAuth;\n\nexport const AuthProvider = _ref => {\n  let {\n    children\n  } = _ref;\n  const [loading, setLoading] = useState(true);\n  const [user, setUser] = useState(null);\n  const history = useHistory();\n  useEffect(() => {\n    auth.onAuthStateChanged(user => {\n      setUser(user);\n      setLoading(false);\n\n      if (user) {\n        history.push('/chats');\n      }\n    });\n  }, [user, history]);\n  const value = {\n    user\n  };\n  return /*#__PURE__*/React.createElement(AuthContext.Provider, {\n    value: value,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 23,\n      columnNumber: 9\n    }\n  }, !loading && children);\n};","map":{"version":3,"sources":["D:/TAILIEUHOANGTHEMANH/Project/messagingApp/src/context/AuthContexts.js"],"names":["React","useState","useEffect","useContext","useHistory","useParams","auth","AuthContext","createContext","useAuth","AuthProvider","children","loading","setLoading","user","setUser","history","onAuthStateChanged","push","value"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,QAAT,EAAmBC,SAAnB,EAA8BC,UAA9B,QAAgD,OAAhD;AACA,SAASC,UAAT,QAA2B,kBAA3B;AACA,SAASC,SAAT,QAA0B,2CAA1B;AACA,SAASC,IAAT,QAAqB,aAArB,C,CACA;;AACA,MAAMC,WAAW,GAAGP,KAAK,CAACQ,aAAN,EAApB;AACA,OAAO,MAAMC,OAAO,GAAG,MAAMR,QAAQ,CAACM,WAAD,CAA9B,C,CACP;;AACA,OAAO,MAAMG,YAAY,GAAG,QAAkB;AAAA,MAAhB;AAACC,IAAAA;AAAD,GAAgB;AAC1C,QAAM,CAACC,OAAD,EAAUC,UAAV,IAAwBZ,QAAQ,CAAC,IAAD,CAAtC;AACA,QAAM,CAACa,IAAD,EAAOC,OAAP,IAAkBd,QAAQ,CAAC,IAAD,CAAhC;AACA,QAAMe,OAAO,GAAGZ,UAAU,EAA1B;AACAF,EAAAA,SAAS,CAAC,MAAM;AACZI,IAAAA,IAAI,CAACW,kBAAL,CAAyBH,IAAD,IAAU;AAC9BC,MAAAA,OAAO,CAACD,IAAD,CAAP;AACAD,MAAAA,UAAU,CAAC,KAAD,CAAV;;AACA,UAAGC,IAAH,EAAS;AAACE,QAAAA,OAAO,CAACE,IAAR,CAAa,QAAb;AAAwB;AACrC,KAJD;AAKH,GANQ,EAMP,CAACJ,IAAD,EAAOE,OAAP,CANO,CAAT;AAOA,QAAMG,KAAK,GAAG;AAAEL,IAAAA;AAAF,GAAd;AACA,sBACI,oBAAC,WAAD,CAAa,QAAb;AAAsB,IAAA,KAAK,EAAEK,KAA7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACK,CAACP,OAAD,IAAYD,QADjB,CADJ;AAKH,CAjBM","sourcesContent":["import React from 'react';\r\nimport { useState, useEffect, useContext } from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { useParams } from 'react-router-dom/cjs/react-router-dom.min';\r\nimport { auth } from '../firebase';\r\n//=====================Write Code Here===========================\r\nconst AuthContext = React.createContext();\r\nexport const useAuth = () => useState(AuthContext);\r\n//export default useAuth;\r\nexport const AuthProvider = ( {children} ) => {\r\n    const [loading, setLoading] = useState(true);\r\n    const [user, setUser] = useState(null);\r\n    const history = useHistory();\r\n    useEffect(() => {\r\n        auth.onAuthStateChanged((user) => {\r\n            setUser(user);\r\n            setLoading(false);\r\n            if(user) {history.push('/chats');}\r\n        })\r\n    },[user, history]);\r\n    const value = { user };\r\n    return(\r\n        <AuthContext.Provider value={value}>\r\n            {!loading && children}\r\n        </AuthContext.Provider>\r\n    )\r\n}"]},"metadata":{},"sourceType":"module"}