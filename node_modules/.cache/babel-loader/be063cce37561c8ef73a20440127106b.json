{"ast":null,"code":"var _jsxFileName = \"D:\\\\TAILIEUHOANGTHEMANH\\\\Project\\\\messagingApp\\\\src\\\\context\\\\AuthContexts.js\";\nimport React from 'react';\nimport { useState, useEffect, useContext } from 'react';\nimport { useHistory } from 'react-router-dom'; //import { useParams } from 'react-router-dom/cjs/react-router-dom.min';\n\nimport { auth } from '../firebase'; //=====================Write Code Here===========================\n\nconst AuthContext = React.createContext();\nexport const useAuth = () => useContext(AuthContext); //export default useAuth;\n\nexport const AuthProvider = _ref => {\n  let {\n    children\n  } = _ref;\n  const [loading, setLoading] = useState(true);\n  const [user, setUser] = useState(null);\n  const history = useHistory();\n  useEffect(() => {\n    auth.onAuthStateChanged(user => {\n      console.log('load');\n      setUser(user);\n      setLoading(false);\n\n      if (user) {\n        history.push('/chats');\n      } else {\n        history.push('/');\n      }\n\n      console.log(user);\n    });\n  }, [user, history]);\n  const value = {\n    user\n  };\n  return /*#__PURE__*/React.createElement(AuthContext.Provider, {\n    value: value,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 9\n    }\n  }, !loading && children);\n};\nexport default user;","map":{"version":3,"sources":["D:/TAILIEUHOANGTHEMANH/Project/messagingApp/src/context/AuthContexts.js"],"names":["React","useState","useEffect","useContext","useHistory","auth","AuthContext","createContext","useAuth","AuthProvider","children","loading","setLoading","user","setUser","history","onAuthStateChanged","console","log","push","value"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,QAAT,EAAmBC,SAAnB,EAA8BC,UAA9B,QAAgD,OAAhD;AACA,SAASC,UAAT,QAA2B,kBAA3B,C,CACA;;AACA,SAASC,IAAT,QAAqB,aAArB,C,CACA;;AACA,MAAMC,WAAW,GAAGN,KAAK,CAACO,aAAN,EAApB;AACA,OAAO,MAAMC,OAAO,GAAG,MAAML,UAAU,CAACG,WAAD,CAAhC,C,CACP;;AACA,OAAO,MAAMG,YAAY,GAAG,QAAkB;AAAA,MAAhB;AAACC,IAAAA;AAAD,GAAgB;AAC1C,QAAM,CAACC,OAAD,EAAUC,UAAV,IAAwBX,QAAQ,CAAC,IAAD,CAAtC;AACA,QAAM,CAACY,IAAD,EAAOC,OAAP,IAAkBb,QAAQ,CAAC,IAAD,CAAhC;AACA,QAAMc,OAAO,GAAGX,UAAU,EAA1B;AACAF,EAAAA,SAAS,CAAC,MAAM;AACZG,IAAAA,IAAI,CAACW,kBAAL,CAAyBH,IAAD,IAAU;AAC9BI,MAAAA,OAAO,CAACC,GAAR,CAAY,MAAZ;AACAJ,MAAAA,OAAO,CAACD,IAAD,CAAP;AACAD,MAAAA,UAAU,CAAC,KAAD,CAAV;;AACA,UAAGC,IAAH,EAAQ;AACJE,QAAAA,OAAO,CAACI,IAAR,CAAa,QAAb;AACH,OAFD,MAEK;AACDJ,QAAAA,OAAO,CAACI,IAAR,CAAa,GAAb;AACH;;AACDF,MAAAA,OAAO,CAACC,GAAR,CAAYL,IAAZ;AACH,KAVD;AAWH,GAZQ,EAYP,CAACA,IAAD,EAAOE,OAAP,CAZO,CAAT;AAaA,QAAMK,KAAK,GAAG;AAAEP,IAAAA;AAAF,GAAd;AACA,sBACI,oBAAC,WAAD,CAAa,QAAb;AAAsB,IAAA,KAAK,EAAEO,KAA7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACK,CAACT,OAAD,IAAYD,QADjB,CADJ;AAKH,CAvBM;AAwBP,eAAeG,IAAf","sourcesContent":["import React from 'react';\r\nimport { useState, useEffect, useContext } from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\n//import { useParams } from 'react-router-dom/cjs/react-router-dom.min';\r\nimport { auth } from '../firebase';\r\n//=====================Write Code Here===========================\r\nconst AuthContext = React.createContext();\r\nexport const useAuth = () => useContext(AuthContext);\r\n//export default useAuth;\r\nexport const AuthProvider = ( {children} ) => {\r\n    const [loading, setLoading] = useState(true);\r\n    const [user, setUser] = useState(null);\r\n    const history = useHistory();\r\n    useEffect(() => {\r\n        auth.onAuthStateChanged((user) => {\r\n            console.log('load');\r\n            setUser(user);\r\n            setLoading(false);\r\n            if(user){\r\n                history.push('/chats');\r\n            }else{\r\n                history.push('/');\r\n            }\r\n            console.log(user);\r\n        })\r\n    },[user, history]);\r\n    const value = { user };\r\n    return(\r\n        <AuthContext.Provider value={value}>\r\n            {!loading && children}\r\n        </AuthContext.Provider>\r\n    )\r\n}\r\nexport default user;"]},"metadata":{},"sourceType":"module"}